import{a as N}from"./chunk-CRTR47NW.js";import"./chunk-G5KA7DMQ.js";import{a as P,b as p,c as L,d as q,e as M,f as x,h as D,i as G,j as V,m as A}from"./chunk-UX4A3BJZ.js";import{c as I}from"./chunk-36HDSY3G.js";import{h as T}from"./chunk-3VHEFNMM.js";import"./chunk-KG3CRA4N.js";import{Bb as F,Cb as f,Jb as a,Kb as g,Lb as R,Pa as l,Vb as u,Wb as c,X as w,_a as k,ea as b,eb as m,fa as h,kb as y,ob as d,sb as i,tb as t,ub as s}from"./chunk-GYQL3Z4S.js";import"./chunk-EQDQRRRY.js";function H(e,o){e&1&&(i(0,"li"),a(1,"Name Is Required"),t())}function Z(e,o){e&1&&(i(0,"li"),a(1,"Name MinLength: 3"),t())}function z(e,o){e&1&&(i(0,"li"),a(1,"NAme MaxLength: 20"),t())}function $(e,o){if(e&1&&(i(0,"div",6),b(),i(1,"svg",18),s(2,"path",19),t(),h(),i(3,"span",20),a(4,"Danger"),t(),i(5,"div")(6,"ul",21),m(7,H,2,0,"li")(8,Z,2,0,"li")(9,z,2,0,"li"),t()()()),e&2){let r,n=f();l(7),d((r=n.registerForm.get("name"))!=null&&r.getError("required")?7:(r=n.registerForm.get("name"))!=null&&r.getError("minlength")?8:(r=n.registerForm.get("name"))!=null&&r.getError("maxlength")?9:-1)}}function j(e,o){e&1&&(i(0,"li"),a(1,"email Is Required"),t())}function U(e,o){e&1&&(i(0,"li"),a(1,"Enter Valid Email"),t())}function J(e,o){if(e&1&&(i(0,"div",6),b(),i(1,"svg",18),s(2,"path",19),t(),h(),i(3,"span",20),a(4,"Danger"),t(),i(5,"div")(6,"ul",21),m(7,j,2,0,"li")(8,U,2,0,"li"),t()()()),e&2){let r,n=f();l(7),d((r=n.registerForm.get("email"))!=null&&r.getError("required")?7:(r=n.registerForm.get("email"))!=null&&r.getError("email")?8:-1)}}function K(e,o){e&1&&(i(0,"li"),a(1,"password Is Required and you must start capitalize letter"),t())}function O(e,o){e&1&&(i(0,"li"),a(1,"Enter Valid Password"),t())}function Q(e,o){if(e&1&&(i(0,"div",6),b(),i(1,"svg",18),s(2,"path",19),t(),h(),i(3,"span",20),a(4,"Danger"),t(),i(5,"div")(6,"ul",21),m(7,K,2,0,"li")(8,O,2,0,"li"),t()()()),e&2){let r,n=f();l(7),d((r=n.registerForm.get("password"))!=null&&r.getError("required")?7:(r=n.registerForm.get("password"))!=null&&r.getError("pattern")?8:-1)}}function W(e,o){e&1&&(i(0,"div",13)(1,"span",20),a(2,"Danger"),t(),i(3,"div")(4,"ul",21)(5,"li"),a(6,"Password Confirmation Is Incorecct"),t()()()())}function X(e,o){e&1&&(i(0,"li"),a(1,"phone Is Required"),t())}function Y(e,o){e&1&&(i(0,"li"),a(1,"Enter Valid phone"),t())}function ee(e,o){if(e&1&&(i(0,"div",6),b(),i(1,"svg",18),s(2,"path",19),t(),h(),i(3,"span",20),a(4,"Danger"),t(),i(5,"div")(6,"ul",21),m(7,X,2,0,"li")(8,Y,2,0,"li"),t()()()),e&2){let r,n=f();l(7),d((r=n.registerForm.get("phone"))!=null&&r.getError("required")?7:(r=n.registerForm.get("phone"))!=null&&r.getError("pattern")?8:-1)}}function te(e,o){e&1&&(i(0,"span"),s(1,"i",22),t())}function ie(e,o){if(e&1&&(i(0,"p",17),a(1),t()),e&2){let r=f();l(),g(r.msgError)}}var B=class e{isLoading=!1;msgError="";authService=w(N);router=w(T);registerForm=new M({name:new x(null,[p.required,p.minLength(3),p.maxLength(20)]),email:new x(null,[p.required,p.email]),password:new x(null,[p.required,p.pattern(/^[A-Z]\w{7,}$/)]),rePassword:new x(null,[p.required]),phone:new x(null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)])},{validators:this.confirmPassword});submitForm(){this.registerForm.valid?(this.isLoading=!0,this.authService.sendRegisterForm(this.registerForm.value).subscribe({next:o=>{this.isLoading=!1,console.log(o),o.message==="success"&&this.router.navigate(["/login"])},error:o=>{this.isLoading=!1,this.msgError=o.error.message,console.log(o)}})):this.registerForm.markAllAsTouched()}confirmPassword(o){let r=o.get("password")?.value,n=o.get("rePassword")?.value;return r===n?null:{mismatch:!0}}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=k({type:e,selectors:[["app-register"]],decls:40,vars:30,consts:[[1,"w-[75%]","mx-auto","border","rounded","shadow","p-4","my-10","bg-gray-50"],[1,"text-3xl","text-green-600","text-center","font-light","capitalize"],[3,"ngSubmit","formGroup"],[1,"mb-2"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","text","id","name","formControlName","name","placeholder","Enter name",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:focus:ring-green-500","dark:focus:border-green-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-white","rounded-lg","bg-green-600","dark:bg-gray-800","dark:text-green-400"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:focus:ring-green-500","dark:focus:border-green-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","id","password","formControlName","password","placeholder","Enter Password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:focus:ring-green-500","dark:focus:border-green-500"],["for","repassword",1,"block","mb-2","text-sm","font-medium","text-gray-900"],["type","password","id","repassword","formControlName","rePassword","placeholder","Confirm Password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:focus:ring-green-500","dark:focus:border-green-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-white","rounded-lg","bg-green-600","dark:bg-gray-800","dark:text-red-400"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","tel","id","phone","formControlName","phone","placeholder","Enter your phone",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],["type","submit",1,"btn-main",3,"disabled"],[1,"bg-red-900","text-white","px-2","py-4","boreder"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"]],template:function(r,n){if(r&1&&(i(0,"section",0)(1,"h1",1),a(2),u(3,"translate"),t(),i(4,"form",2),F("ngSubmit",function(){return n.submitForm()}),i(5,"div",3)(6,"label",4),a(7),u(8,"translate"),t(),s(9,"input",5),m(10,$,10,1,"div",6),t(),i(11,"div",3)(12,"label",7),a(13),u(14,"translate"),t(),s(15,"input",8),m(16,J,9,1,"div",6),t(),i(17,"div",3)(18,"label",9),a(19),u(20,"translate"),t(),s(21,"input",10),m(22,Q,9,1,"div",6),t(),i(23,"div",3)(24,"label",11),a(25),u(26,"translate"),t(),s(27,"input",12),m(28,W,7,0,"div",13),t(),i(29,"div",3)(30,"label",14),a(31),u(32,"translate"),t(),s(33,"input",15),m(34,ee,9,1,"div",6),t(),i(35,"button",16),a(36),u(37,"translate"),m(38,te,2,0,"span"),t(),m(39,ie,2,1,"p",17),t()()),r&2){let _,C,v,S,E;l(2),g(c(3,16,"register.RegisterNow")),l(2),y("formGroup",n.registerForm),l(3),g(c(8,18,"register.name")),l(3),d((_=n.registerForm.get("name"))!=null&&_.errors&&((_=n.registerForm.get("name"))!=null&&_.touched)?10:-1),l(3),g(c(14,20,"register.email")),l(3),d((C=n.registerForm.get("email"))!=null&&C.errors&&((C=n.registerForm.get("email"))!=null&&C.touched)?16:-1),l(3),g(c(20,22,"register.password")),l(3),d((v=n.registerForm.get("password"))!=null&&v.errors&&((v=n.registerForm.get("password"))!=null&&v.touched)?22:-1),l(3),g(c(26,24,"register.rePassword")),l(3),d(n.registerForm.getError("mismatch")&&((S=n.registerForm.get("rePassword"))!=null&&S.touched)?28:-1),l(3),g(c(32,26,"register.phone")),l(3),d((E=n.registerForm.get("phone"))!=null&&E.errors&&((E=n.registerForm.get("phone"))!=null&&E.touched)?34:-1),l(),y("disabled",n.isLoading),l(),R(" ",c(37,28,"register.signUP"),""),l(2),d(n.isLoading?38:-1),l(),d(n.msgError?39:-1)}},dependencies:[A,D,P,L,q,G,V,I],encapsulation:2})};export{B as RegisterComponent};
