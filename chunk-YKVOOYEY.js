import{a as G}from"./chunk-S4BPINDP.js";import{a as O,b as g,c as I,d as w,h as T,i as M,j as N,k as q,m as B}from"./chunk-UX4A3BJZ.js";import{c as E}from"./chunk-36HDSY3G.js";import{f as F}from"./chunk-3VHEFNMM.js";import"./chunk-KG3CRA4N.js";import{Bb as S,Cb as v,Jb as l,Kb as s,Pa as a,Vb as p,Wb as u,X as C,_a as y,ea as b,eb as d,fa as x,kb as _,ob as c,sb as e,tb as t,ub as m}from"./chunk-GYQL3Z4S.js";import"./chunk-EQDQRRRY.js";function R(i,n){i&1&&(e(0,"li"),l(1,"details Is Required"),t())}function V(i,n){if(i&1&&(e(0,"div",6),b(),e(1,"svg",12),m(2,"path",13),t(),x(),e(3,"span",14),l(4,"Danger"),t(),e(5,"div")(6,"ul",15),d(7,R,2,0,"li"),t()()()),i&2){let o,r=v();a(7),c((o=r.checkOutForm.get("details"))!=null&&o.getError("required")?7:-1)}}function H(i,n){i&1&&(e(0,"li"),l(1,"phone Is Required"),t())}function A(i,n){i&1&&(e(0,"li"),l(1,"Enter Valid phone"),t())}function L(i,n){if(i&1&&(e(0,"div",6),b(),e(1,"svg",12),m(2,"path",13),t(),x(),e(3,"span",14),l(4,"Danger"),t(),e(5,"div")(6,"ul",15),d(7,H,2,0,"li")(8,A,2,0,"li"),t()()()),i&2){let o,r=v();a(7),c((o=r.checkOutForm.get("phone"))!=null&&o.getError("required")?7:(o=r.checkOutForm.get("phone"))!=null&&o.getError("pattern")?8:-1)}}function P(i,n){i&1&&(e(0,"li"),l(1,"city Is Required"),t())}function Z(i,n){if(i&1&&(e(0,"div",6),b(),e(1,"svg",12),m(2,"path",13),t(),x(),e(3,"span",14),l(4,"Danger"),t(),e(5,"div")(6,"ul",15),d(7,P,2,0,"li"),t()()()),i&2){let o,r=v();a(7),c((o=r.checkOutForm.get("city"))!=null&&o.getError("required")?7:-1)}}var D=class i{formBuilder=C(q);activatedRoute=C(F);ordersService=C(G);myToken=localStorage.getItem("userToken");checkOutForm;cartId="";ngOnInit(){this.initForm(),this.getCartId(),console.log(this.myToken)}initForm(){this.checkOutForm=this.formBuilder.group({details:[null,[g.required]],phone:[null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)]],city:[null,[g.required]]})}getCartId(){this.activatedRoute.paramMap.subscribe({next:n=>{this.cartId=n.get("id")},error:n=>{console.log(n)}})}submitForm(){this.cartId,console.log(this.checkOutForm.value),this.ordersService.createCashOrder(this.cartId,this.checkOutForm.value).subscribe({next:n=>{console.log(n),n.status=="success"&&open(n.session.url,"_self")},error:n=>{console.log(n)}})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=y({type:i,selectors:[["app-check-cash"]],decls:26,vars:20,consts:[[1,"w-[75%]","mx-auto","border","rounded","shadow","p-4","my-10","bg-gray-50"],[1,"text-3xl","text-green-600","text-center","font-light","capitalize"],[3,"ngSubmit","formGroup"],[1,"mb-2"],["for","details",1,"block","mb-2","text-sm","font-medium"],["id","details","formControlName","details",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-white","rounded-lg","bg-green-600","dark:bg-gray-800","dark:text-green-400"],["for","phone",1,"block","mb-2","text-sm","font-medium"],["type","tel","id","phone","formControlName","phone","title","input",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],["for","city",1,"block","mb-2","text-sm","font-medium"],["type","text","id","city","formControlName","city","title","input",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],["type","submit",1,"btn-main",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"]],template:function(o,r){if(o&1&&(e(0,"section",0)(1,"h1",1),l(2),p(3,"translate"),t(),e(4,"form",2),S("ngSubmit",function(){return r.submitForm()}),e(5,"div",3)(6,"label",4),l(7),p(8,"translate"),t(),m(9,"textarea",5),d(10,V,8,1,"div",6),t(),e(11,"div",3)(12,"label",7),l(13),p(14,"translate"),t(),m(15,"input",8),d(16,L,9,1,"div",6),t(),e(17,"div",3)(18,"label",9),l(19),p(20,"translate"),t(),m(21,"input",10),d(22,Z,8,1,"div",6),t(),e(23,"button",11),l(24),p(25,"translate"),t()()()),o&2){let h,f,k;a(2),s(u(3,10,"checkoutCash.checkOut")),a(2),_("formGroup",r.checkOutForm),a(3),s(u(8,12,"checkoutCash.details")),a(3),c((h=r.checkOutForm.get("details"))!=null&&h.errors&&((h=r.checkOutForm.get("details"))!=null&&h.touched)?10:-1),a(3),s(u(14,14,"checkoutCash.phone")),a(3),c((f=r.checkOutForm.get("phone"))!=null&&f.errors&&((f=r.checkOutForm.get("phone"))!=null&&f.touched)?16:-1),a(3),s(u(20,16,"checkoutCash.city")),a(3),c((k=r.checkOutForm.get("city"))!=null&&k.errors&&((k=r.checkOutForm.get("city"))!=null&&k.touched)?22:-1),a(),_("disabled",r.checkOutForm.invalid),a(),s(u(25,18,"checkoutCash.cashPayment"))}},dependencies:[B,T,O,I,w,M,N,E],encapsulation:2})};export{D as CheckCashComponent};
