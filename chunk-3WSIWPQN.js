import{a as F}from"./chunk-CRTR47NW.js";import"./chunk-G5KA7DMQ.js";import{a as I,b as f,c as N,d as D,e as G,f as w,h as M,i as V,j as q,m as B}from"./chunk-UX4A3BJZ.js";import{c as T}from"./chunk-36HDSY3G.js";import{h as k,i as L}from"./chunk-3VHEFNMM.js";import"./chunk-KG3CRA4N.js";import{Bb as E,Cb as _,Jb as l,Kb as p,Lb as y,Pa as a,Vb as g,Wb as u,X as b,_a as S,ea as v,eb as m,fa as C,kb as h,ob as d,sb as t,tb as i,ub as s}from"./chunk-GYQL3Z4S.js";import"./chunk-EQDQRRRY.js";function R(e,n){e&1&&(t(0,"li"),l(1,"email Is Required"),i())}function H(e,n){e&1&&(t(0,"li"),l(1,"Enter Valid Email"),i())}function P(e,n){if(e&1&&(t(0,"div",6),v(),t(1,"svg",13),s(2,"path",14),i(),C(),t(3,"span",15),l(4,"Danger"),i(),t(5,"div")(6,"ul",16),m(7,R,2,0,"li")(8,H,2,0,"li"),i()()()),e&2){let o,r=_();a(7),d((o=r.loginForm.get("email"))!=null&&o.getError("required")?7:(o=r.loginForm.get("email"))!=null&&o.getError("email")?8:-1)}}function Z(e,n){e&1&&(t(0,"li"),l(1,"password Is Required"),i())}function j(e,n){e&1&&(t(0,"li"),l(1,"Enter Valid Password"),i())}function z(e,n){if(e&1&&(t(0,"div",6),v(),t(1,"svg",13),s(2,"path",14),i(),C(),t(3,"span",15),l(4,"Danger"),i(),t(5,"div")(6,"ul",16),m(7,Z,2,0,"li")(8,j,2,0,"li"),i()()()),e&2){let o,r=_();a(7),d((o=r.loginForm.get("password"))!=null&&o.getError("required")?7:(o=r.loginForm.get("password"))!=null&&o.getError("pattern")?8:-1)}}function $(e,n){e&1&&(t(0,"span"),s(1,"i",17),i())}function J(e,n){if(e&1&&(t(0,"p",12),l(1),i()),e&2){let o=_();a(),p(o.msgError)}}var A=class e{isLoading=!1;msgError="";authService=b(F);router=b(k);loginForm=new G({email:new w(null,[f.required,f.email]),password:new w(null,[f.required,f.pattern(/^[A-Z]\w{7,}$/)])});submitForm(){this.loginForm.valid&&(this.isLoading=!0,this.authService.sendLoginForm(this.loginForm.value).subscribe({next:n=>{this.isLoading=!1,console.log(n),n.message==="success"&&(localStorage.setItem("userToken",n.token),this.authService.saveTokenData(),this.router.navigate(["/home"]))},error:n=>{this.isLoading=!1,this.msgError=n.error.message,console.log(n)}}))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=S({type:e,selectors:[["app-login"]],decls:26,vars:21,consts:[[1,"w-[75%]","mx-auto","border","rounded","shadow","p-4","my-10","bg-gray-50"],[1,"text-3xl","text-green-600","text-center","font-light","capitalize"],[3,"ngSubmit","formGroup"],[1,"mb-2"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","id","email","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-white","rounded-lg","bg-green-600","dark:bg-gray-800","dark:text-green-400"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","id","password","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-green-500","focus:border-green-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-green-500","dark:focus:border-green-500"],[1,"flex","justify-start","items-center","gap-3"],["routerLink","/forgot",1,"btn-main"],["type","submit",1,"btn-main",3,"disabled"],[1,"bg-red-900","text-white","px-2","py-4","boreder"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fas","fa-spin","fa-spinner"]],template:function(o,r){if(o&1&&(t(0,"section",0)(1,"h1",1),l(2),g(3,"translate"),i(),t(4,"form",2),E("ngSubmit",function(){return r.submitForm()}),t(5,"div",3)(6,"label",4),l(7),g(8,"translate"),i(),s(9,"input",5),m(10,P,9,1,"div",6),i(),t(11,"div",3)(12,"label",7),l(13),g(14,"translate"),i(),s(15,"input",8),m(16,z,9,1,"div",6),i(),t(17,"div",9)(18,"a",10),l(19),g(20,"translate"),i(),t(21,"button",11),l(22),g(23,"translate"),m(24,$,2,0,"span"),i()(),m(25,J,2,1,"p",12),i()()),o&2){let c,x;a(2),p(u(3,11,"login.loginNow")),a(2),h("formGroup",r.loginForm),a(3),p(u(8,13,"login.email")),a(3),d((c=r.loginForm.get("email"))!=null&&c.errors&&((c=r.loginForm.get("email"))!=null&&c.touched)?10:-1),a(3),p(u(14,15,"login.password")),a(3),d((x=r.loginForm.get("password"))!=null&&x.errors&&((x=r.loginForm.get("password"))!=null&&x.touched)?16:-1),a(3),p(u(20,17,"login.forgotPassword")),a(2),h("disabled",r.isLoading),a(),y(" ",u(23,19,"login.login"),""),a(2),d(r.isLoading?24:-1),a(),d(r.msgError?25:-1)}},dependencies:[B,M,I,N,D,V,q,L,T],encapsulation:2})};export{A as LoginComponent};
