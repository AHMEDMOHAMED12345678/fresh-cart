import{a as M}from"./chunk-PZ45BTKT.js";import{a as D}from"./chunk-WTHY3OUW.js";import"./chunk-ZSSD5RUB.js";import{a as F}from"./chunk-K4YN5PIP.js";import{a as I}from"./chunk-XTCQAXBF.js";import{f as k,i as E}from"./chunk-3VHEFNMM.js";import{m as w}from"./chunk-KG3CRA4N.js";import{Bb as x,Cb as f,Jb as c,Lb as s,Ma as _,Pa as n,Rb as y,Vb as b,X as a,Xb as T,_a as C,ca as m,da as u,kb as v,qb as h,rb as S,sb as i,tb as r,ub as g,xb as P}from"./chunk-GYQL3Z4S.js";import"./chunk-EQDQRRRY.js";var V=(o,e)=>e.id,A=o=>["/product",o];function W(o,e){if(o&1){let t=P();i(0,"div",3)(1,"div",4)(2,"div"),g(3,"img",5),r(),i(4,"div")(5,"h2",6),c(6),r(),i(7,"h3",7),c(8),b(9,"currency"),r(),i(10,"p",8),c(11),r(),i(12,"span"),c(13),r()()(),i(14,"div",9),x("click",function(){let l=m(t).$implicit,p=f();return u(p.addToWishlist(l.id))}),g(15,"i",10),r(),i(16,"button",11),x("click",function(){let l=m(t).$implicit,p=f();return u(p.addToCart(l.id))}),c(17,"Add to cart"),r()()}if(o&2){let t=e.$implicit;n(),v("routerLink",y(10,A,t.id)),n(2),v("src",t.imageCover,_)("alt",t.title),n(3),s("title:",t.title.split(" ",2).join(" "),""),n(2),s("price:",T(9,7,t.price,"GBP"),""),n(3),s("desc:",t.ratingsAverage,""),n(2),s("count:",t.quantity,"")}}var O=class o{productService=a(M);activatedRoute=a(k);cartService=a(I);toastrService=a(D);wishlistService=a(F);products=[];ngOnInit(){this.getProductData()}addToCart(e){this.cartService.addProductToCart(e).subscribe({next:t=>{console.log(t),t.status=="success"&&this.toastrService.success(t.message,"FreshCart")},error:t=>{console.log(t)}})}getProductData(){this.productService.getAllProduct().subscribe({next:e=>{console.log(e.data),this.products=e.data}})}addToWishlist(e){this.wishlistService.addProductToWishlist(e).subscribe({next:t=>{console.log(t),t.status=="success"&&this.toastrService.success(t.message,"FreshCart")}})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-products"]],decls:6,vars:0,consts:[[1,"my-4"],[1,"text-4xl","text-green-600","text-center","py-5"],[1,"grid","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-3"],[1,"border","card","border-green-400/50","rounded-md","p-4","overflow-hidden","relative"],[3,"routerLink"],["title","img",1,"w-full","h-[250px]","object-contain",3,"src","alt"],[1,"text-3xl"],[1,"text-1xl","text-gray-950"],[1,"text-gray-500","font-semibold"],[1,"p-4","text-green-600","text-3xl",3,"click"],[1,"fa-solid","fa-heart"],[1,"btn-main","w-full",3,"click"]],template:function(t,d){t&1&&(i(0,"section",0)(1,"h2",1),c(2,"products"),r(),i(3,"div",2),h(4,W,18,12,"div",3,V),r()()),t&2&&(n(4),S(d.products))},dependencies:[w,E],styles:[".card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:translateY(100%);opacity:0;transition:all .5s}.card[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}"]})};export{O as ProductsComponent};
